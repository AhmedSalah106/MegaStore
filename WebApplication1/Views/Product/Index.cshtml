@model List<MegaMarket.ViewModel.ProductViewModel>

@{
    ViewData["Title"] = "Your Products - MegaStore";
}

<div class="container mt-5">
    <h2 class="text-center text-primary mb-4">Your Products</h2>

    @if (Model != null && Model.Count > 0)

    {
            <table class="table table-striped table-hover shadow">
                <thead class="table-primary text-center">
                    <tr>
                        <th>Image</th>
                        <th>Product Name</th>
                        <th>Price ($)</th>
                        <th>Brand</th>
                        <th>Category</th>
                        <th>Stock</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody class="text-center align-middle">
                @foreach (var product in Model)
                {
                            <tr>
                                <!-- Display Product Image -->
                                <td>
                                    <img src="@product.imageURL" alt="Product Image" class="img-thumbnail" width="80">
                                </td>

                                <td>@product.Name</td>
                                <td class="text-success fw-bold">$@product.Price</td>
                                <td>@product.Brand</td>

                                <!-- Category Mapping -->
                                <td>
                            @{
                                string categoryName = product.CategoryId switch

                                {

                                    1 => "Electronics",

                                    2 => "Clothing",

                                    3 => "Home & Kitchen",

                                    4 => "Books",

                                    5 => "Beauty & Personal Care",

                                    _ => "Other"

                                };
                            }
                            @categoryName
                                </td>

                                <td>@product.Amount</td>

                                <!-- Action Buttons -->
                                <td>
                                    <a href="@Url.Action("Edit", "Product", new { id = product.Name })" class="btn btn-warning btn-sm">
                                        <i class="fas fa-edit"></i> Edit
                                    </a>
                                    <a href="@Url.Action("Delete", "Product", new { id = product.Name })" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this product?');">
                                        <i class="fas fa-trash"></i> Delete
                                    </a>
                                </td>
                            </tr>
                }
                </tbody>
            </table>
    }

    else

    {
            <div class="alert alert-info text-center" role="alert">
                <strong>No products found!</strong> Add products to start selling.
            </div>
    }

    <!-- Add New Product Button -->
    <div class="text-center mt-4">
        <a href="@Url.Action("AddProduct", "Product")" class="btn btn-primary btn-lg">
            <i class="fas fa-plus"></i> Add New Product
        </a>
    </div>
</div>

<!-- Custom Styles -->
<style>
    .img-thumbnail {
        border-radius: 8px;
        object-fit: cover;
    }
</style>

<!-- FontAwesome Icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
